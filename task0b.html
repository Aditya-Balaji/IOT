<!DOCTYPE html>
<html>
<head>
</head>
<body onload="f()">
<script type="text/javascript">
var can,image,ctx,t,speed=5,hor,vert,X=100,Y=100,len,bred;
function sp_ch()
{
speed=Number(document.getElementById("sp").value);
if(speed<=0)
{
speed=5;
document.getElementById("sp").value="5";
}
if(speed>1000)
{
speed=1000;
document.getElementById("sp").value=1000;
} 
}
function f()
{
speed=Number(document.getElementById("sp").value);
len=prompt("Length of rectangle?","100");
len=Number(len);
bred=prompt("Breadth of rectangle?","50");
bred=Number(bred);
image=document.getElementById("d2");
can=document.getElementById("can");
ctx=can.getContext("2d");
ctx.drawImage(image,100,100,25,25);
hor=+1;
vert=0;
f1();
}
function f1()
{
t=1000/Math.sqrt(speed*speed);
X+=hor;
Y+=vert;
if(X==(100+len)&&Y==100)
{hor=0;
vert=1;
}
else if(X==100&&Y==(bred+100))
{
hor=0;
vert=-1;
}
else if((Y==100)&&(X==100))
{
hor=1;
vert=0;
}
else if(X==(100+len)&&Y==(100+bred))
{
hor=-1;
vert=0;
}


ctx.clearRect(0,0,600,600);
ctx.drawImage(image,X,Y,25,25);
var e=setTimeout(f1,t);}

</script>
<canvas id="can" height="500" width="500"
style="position:absolute; top: 10; left:10;"></canvas>

<img id="d2" style="display:none" src="star2.jpg"/>
<p style="position:absolute; top: 500; left: 50;">
<input type="text" id="sp" value="5" style="font:18pt Helvetica"/>
<input type="button" value="Set speed (pixels per sec)!" onclick="sp_ch()" style="font:18pt Helvetica"/>
</p>
</body>
</html>
